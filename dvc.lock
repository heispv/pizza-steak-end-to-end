schema: '2.0'
stages:
  data_ingestion:
    cmd: python src\PizzaSteakClassifier\pipeline\stage_01_data_ingestion.py
    deps:
    - path: config\config.yaml
      hash: md5
      md5: a786ab7bd139afe279e8e351c725631a
      size: 951
    - path: src\PizzaSteakClassifier\pipeline\stage_01_data_ingestion.py
      hash: md5
      md5: 0b9eb6436dd02d2645e15422ae62a923
      size: 1046
    outs:
    - path: artifacts\data_ingestion\pizza_steak_data
      hash: md5
      md5: d8e0cf3e22a828cdaf42c22739679314.dir
      size: 111728720
      nfiles: 2000
  prepare_base_model:
    cmd: python src\PizzaSteakClassifier\pipeline\stage_02_prepare_base_model.py
    deps:
    - path: config\config.yaml
      hash: md5
      md5: a786ab7bd139afe279e8e351c725631a
      size: 951
    - path: src\PizzaSteakClassifier\pipeline\stage_02_prepare_base_model.py
      hash: md5
      md5: 46957dffd6d3c036926fede8aecffef4
      size: 1093
    params:
      params.yaml:
        classes: 2
        image_size:
        - 160
        - 160
        - 3
        include_top: false
        learning_rate: 0.001
        validation_split: 0.2
        weights: imagenet
    outs:
    - path: artifacts\base_model_preparation
      hash: md5
      md5: 062c01d45ee1f83768a7af9771415dc8.dir
      size: 18886536
      nfiles: 2
  training:
    cmd: python src\PizzaSteakClassifier\pipeline\stage_03_train_model.py
    deps:
    - path: artifacts\base_model_preparation
      hash: md5
      md5: 062c01d45ee1f83768a7af9771415dc8.dir
      size: 18886536
      nfiles: 2
    - path: artifacts\data_ingestion\pizza_steak_data
      hash: md5
      md5: d8e0cf3e22a828cdaf42c22739679314.dir
      size: 111728720
      nfiles: 2000
    - path: config\config.yaml
      hash: md5
      md5: a786ab7bd139afe279e8e351c725631a
      size: 951
    - path: src\PizzaSteakClassifier\components\prepare_callbacks.py
      hash: md5
      md5: 7818d1b99ebd5a79ed1ec267d037e1b7
      size: 960
    - path: src\PizzaSteakClassifier\pipeline\stage_03_train_model.py
      hash: md5
      md5: 8f7a1cf2735a50c0f848fd4a967f8121
      size: 1504
    params:
      params.yaml:
        batch_size: 16
        epochs: 5
        image_size:
        - 160
        - 160
        - 3
        validation_split: 0.2
    outs:
    - path: artifacts\model_training
      hash: md5
      md5: 9c1eec4e21e162313d79f230c928d145.dir
      size: 11606958
      nfiles: 3
